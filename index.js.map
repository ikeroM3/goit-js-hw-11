{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\n\nexport const getImagesByQuery = query =>{\n    const KEY = \"54665781-1b012506ba8c9acb61074d03f\";\n    const BASE_URL = \"https://pixabay.com/api/\";\n\nreturn axios\n.get(BASE_URL, {\nparams: {\n    key: KEY,\n    q: query,\n    image_type: \"photo\",\n    orientation: \"horizontal\",\n    safesearch: true,\n},\n})\n.then(response => response.data)\n\n};\n\n\n    \n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nlet lightbox = null;\n\nexport function createGallery(images) {\n   \nconst gallery = document.querySelector('ul.gallery');\n\n    const markup = images.map(img =>\n      `<li class=\"gallery-item\">\n        <a class=\"gallery-link\" href=\"${img.largeImageURL}\">\n          <img class=\"gallery-image\" src=\"${img.webformatURL}\" alt=\"${img.tags}\"/>\n          </a>\n        \n            <ul class=\"info-list\">\n              <li class=\"info-item\">\n                <span class=\"info-item-label\">Likes ${img.likes}</span>\n              </li>\n              <li class=\"info-item\">\n                <span class=\"info-item-label\">Views ${img.views}</span>\n              </li>\n              <li class=\"info-item\">\n                <span class=\"info-item-label\">Comments  ${img.comments}</span>\n              </li>\n              <li class=\"info-item\">\n                <span class=\"info-item-label\">Downloads ${img.downloads}</span>\n              </li>\n                \n     \n        </ul>\n      </li>`\n    ).join('');\n    \n    \n   \n    gallery.innerHTML = markup;\n    if (!lightbox) {\n    lightbox = new SimpleLightbox('.gallery a');\n    \n  }\nlightbox.refresh();\n\n}\n\nexport function clearGallery() {\n  const gallery = document.querySelector('.gallery');\n  if (gallery) {\n    gallery.innerHTML = '';\n  }\n}\n\nexport function showLoader() {\n  const loader = document.querySelector('.loader');\n  if (loader) {\n    loader.classList.remove('is-hidden');\n  }\n}\n\nexport function hideLoader() {\n  const loader = document.querySelector('.loader');\n  if (loader) {\n    loader.classList.add('is-hidden');\n  }\n}\n\n","import { getImagesByQuery } from \"./js/pixabay-api\";\nimport {\n  createGallery,\n  clearGallery,\n  showLoader,\n  hideLoader\n} from \"./js/render-functions\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst form = document.querySelector(\".form\");\n\nform.addEventListener(\"submit\", event => {\n  event.preventDefault();\n\n  const query = event.target.elements[\"search-text\"].value.trim();\n  if (!query) return;\n\n  clearGallery();\n  showLoader();\n\n  getImagesByQuery(query)\n    .then(data => {\n      if (data.hits.length === 0) {\n        iziToast.error({\n          message:\n            \"Sorry, there are no images matching your search query. Please try again!\",\n          position: \"topRight\"\n        });\n      } else {\n        createGallery(data.hits);\n      }\n    })\n    .catch(() => {\n      iziToast.error({\n        message: \"Something went wrong. Please try again later.\",\n        position: \"topRight\"\n      });\n    })\n    .finally(() => {\n      hideLoader();\n      event.target.reset();\n    });\n});\n"],"names":["getImagesByQuery","query","axios","response","lightbox","createGallery","images","gallery","markup","img","SimpleLightbox","clearGallery","showLoader","loader","hideLoader","form","event","data","iziToast"],"mappings":"owBAEO,MAAMA,EAAmBC,GAIzBC,EACN,IAHoB,2BAGN,CACf,OAAQ,CACJ,IANY,qCAOZ,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CACA,CAAC,EACA,KAAKE,GAAYA,EAAS,IAAI,ECb/B,IAAIC,EAAW,KAER,SAASC,EAAcC,EAAQ,CAEtC,MAAMC,EAAU,SAAS,cAAc,YAAY,EAEzCC,EAASF,EAAO,IAAIG,GACxB;AAAA,wCACkCA,EAAI,aAAa;AAAA,4CACbA,EAAI,YAAY,UAAUA,EAAI,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,sDAKxBA,EAAI,KAAK;AAAA;AAAA;AAAA,sDAGTA,EAAI,KAAK;AAAA;AAAA;AAAA,0DAGLA,EAAI,QAAQ;AAAA;AAAA;AAAA,0DAGZA,EAAI,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA,YAMvE,EAAM,KAAK,EAAE,EAITF,EAAQ,UAAYC,EACfJ,IACLA,EAAW,IAAIM,EAAe,YAAY,GAG9CN,EAAS,QAAO,CAEhB,CAEO,SAASO,GAAe,CAC7B,MAAMJ,EAAU,SAAS,cAAc,UAAU,EAC7CA,IACFA,EAAQ,UAAY,GAExB,CAEO,SAASK,GAAa,CAC3B,MAAMC,EAAS,SAAS,cAAc,SAAS,EAC3CA,GACFA,EAAO,UAAU,OAAO,WAAW,CAEvC,CAEO,SAASC,GAAa,CAC3B,MAAMD,EAAS,SAAS,cAAc,SAAS,EAC3CA,GACFA,EAAO,UAAU,IAAI,WAAW,CAEpC,CCtDA,MAAME,EAAO,SAAS,cAAc,OAAO,EAE3CA,EAAK,iBAAiB,SAAUC,GAAS,CACvCA,EAAM,eAAc,EAEpB,MAAMf,EAAQe,EAAM,OAAO,SAAS,aAAa,EAAE,MAAM,OACpDf,IAELU,IACAC,IAEAZ,EAAiBC,CAAK,EACnB,KAAKgB,GAAQ,CACRA,EAAK,KAAK,SAAW,EACvBC,EAAS,MAAM,CACb,QACE,2EACF,SAAU,UACpB,CAAS,EAEDb,EAAcY,EAAK,IAAI,CAE/B,CAAK,EACA,MAAM,IAAM,CACXC,EAAS,MAAM,CACb,QAAS,gDACT,SAAU,UAClB,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CACbJ,IACAE,EAAM,OAAO,OACnB,CAAK,EACL,CAAC"}