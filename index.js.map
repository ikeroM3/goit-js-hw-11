{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\n\nexport const getImagesByQuery = query =>{\n    const KEY = \"54665781-1b012506ba8c9acb61074d03f\";\n    const BASE_URL = \"https://pixabay.com/api/\";\n\nreturn axios\n.get(BASE_URL, {\nparams: {\n    key: KEY,\n    q: query,\n    image_type: \"photo\",\n    orientation: \"horizontal\",\n    safesearch: true,\n},\n})\n.then(response => response.data)\n\n};\n\n\n    \n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nlet lightbox = null;\n\nexport function createGallery(images) {\n   \nconst gallery = document.querySelector('ul.gallery');\n\n    const markup = images.map(img =>\n      `<li class=\"gallery-item\">\n        <a class=\"gallery-link\" href=\"${img.largeImageURL}\">\n          <img class=\"gallery-image\" src=\"${img.webformatURL}\" alt=\"${img.tags}\" loading=\"lazy\" />\n        </a>\n      </li>`\n    ).join('');\n    \n   \n    gallery.innerHTML = markup;\n    if (!lightbox) {\n    lightbox = new SimpleLightbox('.gallery a');\n  }\nlightbox.refresh();\n\n}\n\nexport function clearGallery() {\n  const gallery = document.querySelector('.gallery');\n  if (gallery) {\n    gallery.innerHTML = '';\n  }\n}\n\nexport function showLoader() {\n  const loader = document.querySelector('.loader');\n  if (loader) {\n    loader.classList.remove('is-hidden');\n  }\n}\n\nexport function hideLoader() {\n  const loader = document.querySelector('.loader');\n  if (loader) {\n    loader.classList.add('is-hidden');\n  }\n}\n\n","import { getImagesByQuery } from \"./js/pixabay-api\";\nimport { createGallery, clearGallery, showLoader, hideLoader } from \"./js/render-functions\";\n\nconst form = document.querySelector('.form');\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n\n  const query = event.target.elements['search-text'].value.trim();\n  if (!query) return;\n\n  clearGallery();\n  showLoader();\n\n  getImagesByQuery(query)\n    .then(data => {\n      if (data.hits.length === 0) {\n        iziToast.error({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight'\n        });\n      } else {\n        createGallery(data.hits);\n      }\n    })\n    .catch(error => {\n      console.log(error);\n    })\n    .finally(() => {\n      hideLoader();\n       event.target.reset();\n    });\n\n});\n"],"names":["getImagesByQuery","query","axios","response","lightbox","createGallery","images","gallery","markup","img","SimpleLightbox","clearGallery","showLoader","loader","hideLoader","form","event","data","error"],"mappings":"6vBAEO,MAAMA,EAAmBC,GAIzBC,EACN,IAHoB,2BAGN,CACf,OAAQ,CACJ,IANY,qCAOZ,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CACA,CAAC,EACA,KAAKE,GAAYA,EAAS,IAAI,ECb/B,IAAIC,EAAW,KAER,SAASC,EAAcC,EAAQ,CAEtC,MAAMC,EAAU,SAAS,cAAc,YAAY,EAEzCC,EAASF,EAAO,IAAIG,GACxB;AAAA,wCACkCA,EAAI,aAAa;AAAA,4CACbA,EAAI,YAAY,UAAUA,EAAI,IAAI;AAAA;AAAA,YAG9E,EAAM,KAAK,EAAE,EAGTF,EAAQ,UAAYC,EACfJ,IACLA,EAAW,IAAIM,EAAe,YAAY,GAE9CN,EAAS,QAAO,CAEhB,CAEO,SAASO,GAAe,CAC7B,MAAMJ,EAAU,SAAS,cAAc,UAAU,EAC7CA,IACFA,EAAQ,UAAY,GAExB,CAEO,SAASK,GAAa,CAC3B,MAAMC,EAAS,SAAS,cAAc,SAAS,EAC3CA,GACFA,EAAO,UAAU,OAAO,WAAW,CAEvC,CAEO,SAASC,GAAa,CAC3B,MAAMD,EAAS,SAAS,cAAc,SAAS,EAC3CA,GACFA,EAAO,UAAU,IAAI,WAAW,CAEpC,CC1CA,MAAME,EAAO,SAAS,cAAc,OAAO,EAE3CA,EAAK,iBAAiB,SAAUC,GAAS,CACvCA,EAAM,eAAc,EAEpB,MAAMf,EAAQe,EAAM,OAAO,SAAS,aAAa,EAAE,MAAM,OACpDf,IAELU,IACAC,IAEAZ,EAAiBC,CAAK,EACnB,KAAKgB,GAAQ,CACRA,EAAK,KAAK,SAAW,EACvB,SAAS,MAAM,CACb,QACE,2EACF,SAAU,UACpB,CAAS,EAEDZ,EAAcY,EAAK,IAAI,CAE/B,CAAK,EACA,MAAMC,GAAS,CACd,QAAQ,IAAIA,CAAK,CACvB,CAAK,EACA,QAAQ,IAAM,CACbJ,IACCE,EAAM,OAAO,OACpB,CAAK,EAEL,CAAC"}